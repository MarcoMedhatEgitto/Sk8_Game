ScreenManager:
    # Main menu screen
    Screen:
        name: 'main_menu'
        BoxLayout:
            orientation: 'vertical'
            padding: [20, 50, 20, 50]
            spacing: 30
            canvas.before:
                Color:
                    rgba: 0.1, 0.1, 0.1, 1
                Rectangle:
                    size: self.size
                    pos: self.pos

            Label:
                name: 'first'
                text: 'SK8 Game'
                font_size: '50sp'
                color: (1, 1, 1, 1)
                bold: True
                size_hint_y: 0.2
                text_size: self.size
                halign: 'center'
                valign: 'middle'

            Image:
                source: 'sk.png'
                allow_stretch: True
                keep_ratio: True
                size_hint_y: 0.5

            BoxLayout:
                orientation: 'vertical'
                spacing: 20
                size_hint_y: 0.3
                padding: [30, 0]
                pos_hint: {'center_x': 0.5}

                Button:
                    text: 'Session'
                    font_size: '20sp'
                    size_hint_y: None
                    height: '60dp'
                    background_color: (0, 0, 0, 0)
                    background_normal: ''
                    color: (1, 1, 1, 1)
                    canvas.before:
                        Color:
                            rgba: 0.2, 0.6, 0.86, 1
                        RoundedRectangle:
                            size: self.size
                            pos: self.pos
                            radius: [15]
                    on_press: app.root.transition.direction = 'left'
                    on_press: app.root.current = 'difficulty_screen'

                Button:
                    text: 'Game of SK8'
                    font_size: '20sp'
                    size_hint_y: None
                    height: '60dp'
                    background_color: (0, 0, 0, 0)
                    background_normal: ''
                    color: (1, 1, 1, 1)
                    canvas.before:
                        Color:
                            rgba: 0.2, 0.6, 0.86, 1
                        RoundedRectangle:
                            size: self.size
                            pos: self.pos
                            radius: [15]
                    on_press: app.root.transition.direction = 'up'
                    on_press: app.root.current = 'Multi_player'

                Button:
                    text: 'Progress'
                    font_size: '20sp'
                    size_hint_y: None
                    height: '60dp'
                    background_color: (0, 0, 0, 0)
                    background_normal: ''
                    color: (1, 1, 1, 1)
                    canvas.before:
                        Color:
                            rgba: 0.2, 0.6, 0.86, 1
                        RoundedRectangle:
                            size: self.size
                            pos: self.pos
                            radius: [15]
                    on_press: app.root.transition.direction = 'left'
                    on_press: app.root.current = 'progress_screen'


    # Difficulty screen
    Screen:
        name: 'difficulty_screen'
        BoxLayout:
            orientation: 'vertical'
            padding: [20, 50, 20, 50]
            spacing: 30
            canvas.before:
                Color:
                    rgba: 0.1, 0.1, 0.1, 1
                Rectangle:
                    size: self.size
                    pos: self.pos

            Label:
                text: 'Difficulty'
                font_size: '50sp'
                color: (1, 1, 1, 1)
                bold: True
                size_hint_y: 0.2
                text_size: self.size
                halign: 'center'
                valign: 'middle'

            Image:
                source: 'sk.png'
                allow_stretch: True
                keep_ratio: True
                size_hint_y: 0.5

            BoxLayout:
                orientation: 'vertical'
                spacing: 20
                size_hint_y: 0.3
                padding: [30, 0]
                pos_hint: {'center_x': 0.5}

                Button:
                    text: 'Easy'
                    font_size: '20sp'
                    size_hint_y: None
                    height: '60dp'
                    background_color: (0, 0, 0, 0)
                    background_normal: ''
                    color: (1, 1, 1, 1)
                    canvas.before:
                        Color:
                            rgba: 0.1, 0.8, 0.1, 1
                        RoundedRectangle:
                            size: self.size
                            pos: self.pos
                            radius: [15]
                    on_press: app.root.transition.direction = 'right'
                    on_press: app.root.current = 'main_menu'

                Button:
                    text: 'Medium'
                    font_size: '20sp'
                    size_hint_y: None
                    height: '60dp'
                    background_color: (0, 0, 0, 0)
                    background_normal: ''
                    color: (1, 1, 1, 1)
                    canvas.before:
                        Color:
                            rgba: 0.9, 0.8, 0.1, 1
                        RoundedRectangle:
                            size: self.size
                            pos: self.pos
                            radius: [15]
                    on_press: app.root.transition.direction = 'right'
                    on_press: app.root.current = 'main_menu'

                Button:
                    text: 'Hard'
                    font_size: '20sp'
                    size_hint_y: None
                    height: '60dp'
                    background_color: (0, 0, 0, 0)
                    background_normal: ''
                    color: (1, 1, 1, 1)
                    canvas.before:
                        Color:
                            rgba: 0.8, 0.1, 0.1, 1
                        RoundedRectangle:
                            size: self.size
                            pos: self.pos
                            radius: [15]
                    on_press: app.root.transition.direction = 'right'
                    on_press: app.root.current = 'main_menu'

    #Multiplayer screen
    Screen:
        name: 'Multi_player'
        BoxLayout:
            orientation: 'vertical'
            padding: [20, 50, 20, 50]
            spacing: 30
            canvas.before:
                Color:
                    rgba: 0.1, 0.1, 0.1, 1
                Rectangle:
                    size: self.size
                    pos: self.pos

            Label:
                text: 'Under Development!'
                font_size: '50sp'
                color: (1, 0, 0, 1)
                bold: True
                size_hint_y: 0.2
                text_size: self.size
                halign: 'center'
                valign: 'middle'

            Image:
                source: 'sk.png'
                allow_stretch: True
                keep_ratio: True
                size_hint_y: 0.5

            BoxLayout:
                orientation: 'vertical'
                spacing: 20
                size_hint_y: 0.3
                padding: [30, 0]
                pos_hint: {'center_x': 0.5}

                Button:
                    text: 'Back'
                    font_size: '20sp'
                    size_hint_y: None
                    height: '60dp'
                    background_color: (0, 0, 0, 0)
                    background_normal: ''
                    color: (1, 1, 1, 1)
                    canvas.before:
                        Color:
                            rgba: 0.1, 0.8, 0.1, 1
                        RoundedRectangle:
                            size: self.size
                            pos: self.pos
                            radius: [15]
                    on_press: app.root.transition.direction = 'down'
                    on_press: app.root.current = 'main_menu'


    # Progress screen
    Screen:
        id: progress_screen_ref
        on_pre_enter: app.load_progress()
        name: 'progress_screen'
        BoxLayout:
            orientation: 'vertical'
            padding: [20, 50, 20, 50]
            spacing: 20
            canvas.before:
                Color:
                    rgba: 0.1, 0.1, 0.1, 1
                Rectangle:
                    size: self.size
                    pos: self.pos

            Label:
                text: 'Save Your Progress'
                font_size: '35sp'
                color: (1, 1, 1, 1)
                bold: True
                size_hint_y: 0.2
                halign: 'center'
                valign: 'middle'

            TextInput:
                id: name_input
                text: ''
                hint_text: 'Enter your name'
                font_size: '18sp'
                size_hint_y: None
                height: '50dp'
                background_color: (0.2, 0.2, 0.2, 1)
                foreground_color: (1, 1, 1, 1)

            Button:
                text: 'Save Progress'
                size_hint_y: None
                height: '50dp'
                on_press: app.save_progress(name_input.text)

            Button:
                text: 'Back to Menu'
                size_hint_y: None
                height: '50dp'
                on_press: app.root.transition.direction = 'right'
                on_press: app.root.current = 'main_menu'
